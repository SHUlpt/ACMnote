## :question:基础-构造

### Dreamoon Likes Coloring[^1]（方案构造）

> **题目：**
> 一行排列有从1到$n$，$n$个方格。给定一个整数$m$和$m$个整数$l_1,l_2,\dots,l_m(1\le l_i\le n)$
> 现在要进行$m$次操作，第$i$次操作会从$[1,n-l_i+1]$范围内任取一个整数$p_i$，对$[p_i,p_i+l_i-1]$区间内的方格染上第$i$种颜色。
> 要求进行$m$次染色后，所有颜色都至少出现一次，并且所有方格都要被染色，输出每次选择的$p_i $
>
> **输入：**
> 第一行两个整数$n,m(1\le m\le n\le1e5)$
> 第二行$m$个整数$l_1,l_2,\dots l_m(1\le l_i\le n)$
>
> **输出：**
> 如果不存在，输出”-1“
> 否则，输出$m$个整数$p_1,p_2,\dots,p_m(1\le p_i\le n-l_i+1)$
>
> **样例：**
>
> ```
> #input
> 5 3
> 3 2 2
> 
> #output
> 2 4 1
> ```

:star:如果一个构造题需要判断是否存在可行解，就代表一定有一种常见的模式，也就是有一些简单的约束条件可以判断结果。想要解决这类问题，首先应该找到一些导致不存在可行解的情况。

对于本题，有以下两种情况：

1. $\sum l_i<n$，这种情况下一定会存在没有被染色的格子
2. 如果存在$i$，有$n-l_i<i-1$，也会导致没有可行解。
   这个式子代表在进行第$i$次操作后，只剩下$n-l_i$个格子没有被第$i$种颜色染色，而在第$i$次操作之前，每次操作至少都要留下1种颜色，所以此时至少应该保留下$i-1$种颜色
   因此当上式成立时，前$i-1$种颜色种至少会有消失，也就不满足条件

对于构造问题，一般可以人为的添加一些更加严格的条件，此时解依然存在。而且因为添加了条件，问题也能够更容易的解决。常见的一种人为添加条件就是**”有序“**。

此题我们可以让输出序列保证升序，也就是$p_{i+1}>p_i$





[^1]:[CF Round #631 div2.C](https://codeforces.com/contest/1330/problem/C)

